<!DOCTYPE html>
<html labg="ja">
<head>
    <meta charset="utf-8" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>英雄になろう！リモートプレイ用ツール</title>
    <link rel="stylesheet" media="screen" href="play.css" />
</head>
<body>
    <div id="unity-container" style="">
        <canvas id="unity-canvas"></canvas>
        <div id="unity-loading-bar">
            <div id="unity-logo"></div>
            <div id="unity-progress-bar-empty">
                <div id="unity-progress-bar-full"></div>
            </div>
        </div>
    </div>
    <script>
var loaderUrl = "webgl.loader.js";
var config = {
    dataUrl: "webgl.data",
    frameworkUrl: "webgl.framework.js",
    codeUrl: "webgl.wasm",
    streamingAssetsUrl: "StreamingAssets",
    companyName: "empty",
    productName: "empty",
    productVersion: "0",
};

var container = document.querySelector("#unity-container");
var canvas = document.querySelector("#unity-canvas");
var loadingBar = document.querySelector("#unity-loading-bar");
var progressBarFull = document.querySelector("#unity-progress-bar-full");

if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
    config.devicePixelRatio = 1;
}
canvas.style.width =  "100%";
canvas.style.height = "100%";

loadingBar.style.display = "block";

var script = document.createElement("script");
script.src = loaderUrl;
script.onload = () => {
    createUnityInstance(canvas, config, (progress) => {
        progressBarFull.style.width = 100 * progress + "%";
    }).then((unityInstance) => {
        loadingBar.style.display = "none";
    }).catch((message) => {
        alert(message);
    });
};
document.body.appendChild(script);
</script>
<script crossorigin="anonymous" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" src="https://code.jquery.com/jquery-3.1.1.min.js">
</script>
<script src="play.js">
</script>
</body>
</html>